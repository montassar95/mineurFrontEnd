
<p-toast key="tst" [style]="{marginTop: '150px'}"></p-toast>

<div class="card" dir="rtl">

    <p-accordion multiple="true">
        <p-accordionTab header="المحكمة و عدد القضية" [selected]="true">
            <div class="p-field p-grid">
                <label for="firstname3" class="p-col-fixed" style="width:150px">المحكمة </label>


                <div class="p-col">
                    <!-- <input class="tribunal" type="text" [(ngModel)]="codeTribunal1" style="width:  20%;"
                        (change)="getTribunal1()" placeholder=" رمز المحكمة" pInputText> -->
                    <input class="tribunal" readonly [ngModel]="tribunal1" (click)="showListTribunal1()" type="text"
                        style="width: 50%;" pInputText>


                </div>



            </div>
            <div class="p-field p-grid">
                <label for="lastname3" class="p-col-fixed" style="width:150px">عدد القضية
                </label>
                <div class="p-col">

                    <p-inputMask [style]="{'font-weight': '500','width':  '20%','font-size': '16px','color': 'black'}"
                        dir="rtl" [(ngModel)]="numAffaireT1" mask="999-999999" slotChar="----------"
                        placeholder=" عدد القضية">
                    </p-inputMask>

                </div>
            </div>

            <div class="p-field p-grid">
            
                <div class="p-col" style="text-align: center;">
                    <button (click)="cherchcerDetenuParAffaire()" style="background-color: #28a745!important;" mat-fab>
                        <i class="pi pi-search" style="font-size: 25px;"></i>
                    </button>
            
                </div>
            </div>


        </p-accordionTab>



    </p-accordion>

     
</div>


<p-dialog header="دليل المحاكم" dir="rtl" [(visible)]="displayTribunal1" modal="true" showEffect="fade">

    <div style="width: 1200px;  min-height: 400px;">
        <p-table [value]="entitiesTribunal" #dtTribunal1 selectionMode="single" [paginator]="true" [rows]="5"
            paginatorPosition="top" [rowsPerPageOptions]="[5,10,20,50]" [globalFilterFields]="['id','nom_tribunal' ]">
            <ng-template pTemplate="caption">
                <div class="p-grid">
                    <div class="p-col">
                        <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                        <input type="text" pInputText size="50" placeholder=" بحث"
                            (input)="dtTribunal1.filterGlobal($event.target.value, 'contains')" style="width:300px">

                    </div>
                    <div class="p-col">
                        <p-multiSelect [options]="gouvernoratSwich" [filter]="true"
                            [style]="{'width':'100%', 'margin-top':'0'}" emptyFilterMessage="لا تيوجد نتيجية "
                            defaultLabel="قائمة الولايات " selectedItemsLabel="{0} ولايات" appendTo="body"
                            (onChange)="dtTribunal1.filter($event.value,'gouvernorat.libelle_gouvernorat', 'in')">
                            <ng-template let-group pTemplate="item">
                                <div class="item">
                                    <span>{{group.label}}</span>
                                </div>

                            </ng-template>

                        </p-multiSelect>
                    </div>
                    <div class="p-col">
                        <p-multiSelect [options]="typeTribunalSwich" [filter]="true"
                            [style]="{'width':'100%', 'margin-top':'0'}" emptyFilterMessage="لا تيوجد نتيجية "
                            defaultLabel="قائمة  أنواع المحاكم " selectedItemsLabel="{0}  أنواع المحاكم" appendTo="body"
                            (onChange)="dtTribunal1.filter($event.value,'typeTribunal.libelleTypeTribunal', 'in')">
                            <ng-template let-group pTemplate="item">
                                <div class="item">
                                    <span>{{group.label}}</span>
                                </div>

                            </ng-template>

                        </p-multiSelect>
                    </div>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>

                    <th style="width: 10%;" pSortableColumn="id">الرمز
                        <p-sortIcon field="id"></p-sortIcon>
                    </th>


                    <th style="width: 80%;" pSortableColumn="nom_tribunal"> المحكمة
                        <p-sortIcon field="nom_tribunal"></p-sortIcon>

                    </th>

                    <th style="width: 10%;"> إدراج


                    </th>


                </tr>
                <tr>

                    <th>
                        <input pInputText type="text" placeholder="يبدأ بـــــــــــ" class="ui-column-filter"
                            style="width: 100%; margin-top: 0;"
                            (input)="dtTribunal1.filter($event.target.value, 'id', 'startsWith')">

                    </th>
                    <th>
                        <input pInputText type="text" placeholder=" يبدأ بـــــــــــ" class="ui-column-filter"
                            style="width: 100%; margin-top: 0;"
                            (input)="dtTribunal1.filter($event.target.value, 'nom_tribunal', 'startsWith')">

                    </th>


                    <th style="width: 10%;">

                    </th>

                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-row>
                <tr>


                    <td> <b style="font-size:18px;">{{row.id}}</b></td>


                    <td> <b style="font-size:18px;">{{row.nom_tribunal}} </b></td>


                    <td>
                        <p-button icon="pi pi-plus" (click)=saveTribunal1(row)>
                        </p-button>


                    </td>


                </tr>
            </ng-template>
        </p-table>
    </div>

</p-dialog>


<div *ngIf="click" class="loading-overlay">
      <img src="assets/layout/images/g.gif" alt="Loading..." class="loading-gif" />
 </div>
 